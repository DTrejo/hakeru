<pre>
      ___           ___           ___           ___           ___           ___     
     /__/\         /  /\         /__/|         /  /\         /  /\         /__/\    
     \  \:\       /  /::\       |  |:|        /  /:/_       /  /::\        \  \:\   
      \__\:\     /  /:/\:\      |  |:|       /  /:/ /\     /  /:/\:\        \  \:\  
  ___ /  /::\   /  /:/~/::\   __|  |:|      /  /:/ /:/_   /  /:/~/:/    ___  \  \:\ 
 /__/\  /:/\:\ /__/:/ /:/\:\ /__/\_|:|____ /__/:/ /:/ /\ /__/:/ /:/___ /__/\  \__\:\
 \  \:\/:/__\/ \  \:\/:/__\/ \  \:\/:::::/ \  \:\/:/ /:/ \  \:\/:::::/ \  \:\ /  /:/
  \  \::/       \  \::/       \  \::/~~~~   \  \::/ /:/   \  \::/~~~~   \  \:\  /:/ 
   \  \:\        \  \:\        \  \:\        \  \:\/:/     \  \:\        \  \:\/:/  
    \  \:\        \  \:\        \  \:\        \  \::/       \  \:\        \  \::/   
     \__\/         \__\/         \__\/         \__\/         \__\/         \__\/
</pre>

 
h2. Protips:

Hakeru's production Node server is eric.no.de:9000  

In order to push your changes to prod you must

      1. Get your Joyent account added by Eric to eric.no.de
      2. git remote add joyent ssh://node@eric.no.de/repo
         git push joyent master
      3. Server is now magically running
      4. ssh node@eric.no.de and node-service-log to see errors

We don't have a dev server yet, so everything has to go to prod

h2. How to get the dev server running! (does not yet fully duplicate production, but in any case):

This guide may be outdated as of 11/4/2010
Clone this repository using like this*:
<pre>
  git clone --recursive git@github.com:3wt/Hakeru-Backend-Server.git    
</pre>

if you've already cloned, but forgot to do the above, run this:
<pre>
  git submodule update --init
</pre>
  
make sure you have "mongodb installed":http://www.mongodb.org/downloads, or just "sudo port install mongodb." Make sure you follow the "quickstart guide":http://www.mongodb.org/display/DOCS/Quickstart for your OS. For mac you'd run:
<pre>
  mkdir -p /data/db
</pre>
  
Also get the node code (how to install npm: http://github.com/isaacs/npm, how to install it along with node: http://gist.github.com/579814):
<pre>
  npm install mongodb
  npm install node-static@0.5.2
</pre>
  
h2. now that you have all the dependencies, you should be able to start up the server:

<pre>
cd Hakeru-Backend-Server
mongod
sudo node dserver.js
</pre>
  
- the server should now be running at http://localhost/index.html
- all done! Develop to your heart's content.
  
h2. Things that need attention:

- √sessions — you must use username johnny with password j in order to test it, as it's not hooked up to the DB.
- upload
- anything else that php used to do.
- clean up the existing code
- √figure out how to do localhost/* path handling or subdomains.

*to learn all about submodules, this is a good start http://longair.net/blog/2010/06/02/git-submodules-explained/
